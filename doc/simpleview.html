<html>
	<body>
		<script type="text/javascript">
			function doSubmit () {
				var treeId = document.getElementById('pt.identifier.tree').value;
				var taxa   = document.getElementById('pt.taxaForSubtree').value;
				var query = 'pt.identifier.tree="'
					+ encodeURIComponent(treeId)
					+ '" and '
					+ 'pt.taxaForSubtree="'
					+ encodeURIComponent(taxa)
					+ '"';
				document.getElementById('query').value = query;
				document.getElementById('form').submit();
			}
		</script>
			<!-- pulldown menu to select the tree to prune -->
			<select id="pt.identifier.tree">
				<option value="http://example.org/16S_candiv_gg_2011_1">greengenes</option>
			</select>
			
			<!-- textarea to paste the JSON -->
			<textarea id="pt.taxaForSubtree" rows="5" cols="50"></textarea>
		
		<form
			id="form"
			action="http://localhost/phylows/tree/subtree"
			method="post">
			
			<!-- output format -->
			<select name="format">
				<option value="nexml">nexml</option>
				<option value="newick">newick</option>
				<option value="nexus">nexus</option>
				<option value="phyloxml">phyloxml</option>
			</select>			
			
			<!-- this will hold the CQL query -->
			<input type="hidden" id="query" name="query" />
			
			<!-- triggers JS function that composes CQL query -->
			<input
				value="Get Phylotastic Tree!"
				type="button"
				onclick="doSubmit()"/>
		</form>
	</body>
</html>